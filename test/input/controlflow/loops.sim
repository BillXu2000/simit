%%% assemble
element Point
  x : tensor[3](float);
end

func edgeVectors(pts : (Point*3)) -> (vec : tensor[3](tensor[3](float)))
  for i in 0:3
    j = mod((i+1), 3);
    vec(i) = pts(j).x - pts(i).x;
  end
end

%%% for_loop_test
%! for_loop_test([1.0, 2.0, 3.0; 4.0, 5.0, 6.0; 7.0, 8.0, 9.0])==[6.0, 15.0 ,24.0];
func for_loop_test(A:tensor[3,3](float)) -> (B:tensor[3](float))
  for i in 0:3
    for j in 0:3
      B(i) = B(i) + A(i,j);
    end
  end
end

%%% while
%! f(5) == 10;
func f(p : int) -> (r : int)
  r = 0;
  while r < 10
    r = r + 2;
  end
end

%%% while-nested
%! f(2) == 11;
func f(p : int) -> (r : int)
  r = 0;
  while r < 10
    while r < 5
      r = r + 1;
    end
    r = r + 2;
  end
end
